<div class="container-sivimss px-5 registro-en-linea my-5">
  <app-titulo-principal titulo="CONSULTAR MI PLAN DE SERVICIOS FUNERARIOS PAGO ANTICIPADO">
    <app-btn-regresar routerLink="../consultar-mis-servicios-en-linea"></app-btn-regresar>
  </app-titulo-principal>

  <p-table styleClass="mt-5 mb-8" [value]="planes" [paginator]="planes.length > 0"
           [rows]="cantElementosPorPagina" [totalRecords]="totalElementos" [pageLinks]="3" [(first)]="numPaginaActual"
           [resizableColumns]="true" [columnResizeMode]="'expand'">
    <ng-template pTemplate="header">
      <tr>
        <th scope="col">Folio del convenio</th>
        <th scope="col">CURP</th>
        <th scope="col">Nombre del titular substituto</th>
        <th scope="col">Nombre del titular</th>
        <th scope="col" style="width: 40px; border-left: 1px solid #b0b0b0;"></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-plan>
      <tr>
        <td>{{ plan.numFolioPlanSfpa }}</td>
        <td>{{ plan.curpTitular }}</td>
        <td>{{ plan.nombreSubtitular !== '' ? plan.nombreSubtitular : plan.nombreTitular }}</td>
        <td>{{ plan.nombreTitular }}</td>
        <td style="border-left: 1px solid #b0b0b0;">
          <div class="contenedor-celda-iconos">
            <a (click)="verPlanPreFune(plan)">
              <i class="pi pi-eye"></i>
            </a>
          </div>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <th colspan="7" class="p-2 text-center font-bold text-xl" id="consulta_ods_sin_resultados">
          No se encontró información relacionada a tu búsqueda
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="paginatorleft">
      <div class="paginator-template">
        <span class="total-elements">{{ planes.length }} de {{ totalElementos }}</span>
      </div>
    </ng-template>
    <ng-template pTemplate="paginatorright"></ng-template>
  </p-table>
</div>


<p-dialog [(visible)]="mostrarModalFaltaConvenio" [modal]="true" [style]="{maxWidth:'544px',width: '100%'}"
          [closable]="true" [draggable]="false" [resizable]="false" header="Convenios">
  <ng-template pTemplate="content">
    <div>
      <p class="text-center"><b>Aún no cuentas con un convenio de Servicios Funerarios Pagos Anticipados</b></p>
      <p class="mt-2 text-center">Puedes registrarlo en línea o puedes asistir a tu velatorio más cercano.</p>
    </div>
  </ng-template>
  <ng-template pTemplate="footer">
    <div class="flex justify-content-center">
      <button class="btn btn-primary btn-md" (click)="mostrarModalFaltaConvenio = false;">Aceptar</button>
    </div>
  </ng-template>
</p-dialog>

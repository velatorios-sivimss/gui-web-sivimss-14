<ng-container *ngIf="!agregarPersona">
  <hr class="hr-accordion-content">
  <form [formGroup]="empresaForm">
    <div class="row mb-3">
      <div class="col-md-4">
        <label class="control-label" for="nombre">Nombre <span class="req">*</span>:</label>
        <input id="nombre" class="form-control" formControlName="nombre" placeholder="Ingresa nombre" alphanumericOnly
        maxlength="20">
        <span class="campo-obligatorio"
              *ngIf="fe.nombre?.errors?.required && (fe.nombre?.dirty || fe.nombre?.touched)">Este campo es obligatorio *.</span>
      </div>
      <div class="col-md-4">
        <label class="control-label" for="razonSocial">Razón social <span class="req">*</span>:</label>
        <input id="razonSocial" class="form-control" formControlName="razonSocial" placeholder="Ingresa razón social"
        maxlength="50">
        <span class="campo-obligatorio"
              *ngIf="fe.razonSocial?.errors?.required && (fe.razonSocial?.dirty || fe.razonSocial?.touched)">Este campo es obligatorio *.</span>
      </div>
      <div class="col-md-4">
        <label class="control-label" for="rfc">RFC <span class="req">*</span>:</label>
        <input id="rfc" class="form-control" formControlName="rfc" placeholder="Ingresa RFC" maxlength="13" (blur)="consultarRFC()">
        <span class="campo-obligatorio"
              *ngIf="fe.rfc?.errors?.required && (fe.rfc?.dirty || fe.rfc?.touched)">Este campo es obligatorio *.</span>
        <span class="campo-obligatorio"
              *ngIf="fe.rfc?.errors?.pattern && (fe.rfc?.dirty || fe.rfc?.touched)">Este campo es obligatorio *.</span>
      </div>
    </div>
    <h2 class="subtitulo">Dirección</h2>
    <div class="row mt-3 mb-3">
      <div class="col-md-3">
        <label class="control-label" for="numeroInterior">País <span class="req">*</span>:</label>
        <p-dropdown id="pais" class="form-control" formControlName="pais" [options]="pais"
                    placeholder="Selecciona país" [filter]="true" filterBy="label">
        </p-dropdown>
        <span class="campo-obligatorio"
              *ngIf="fe.pais?.errors?.required && (fe.pais?.dirty || fe.pais?.touched)">Este campo es obligatorio *.</span>
      </div>
      <div class="col-md-3">
        <label class="control-label" for="cp">C.P. <span class="req">*</span>:</label>
        <input id="cp" class="form-control" formControlName="cp" placeholder="Ingresa C.P." numbersOnly
        maxlength="5" (blur)="consultarCP()">
        <span class="campo-obligatorio"
              *ngIf="fe.cp?.errors?.required && (fe.cp?.dirty || fe.cp?.touched)">Este campo es obligatorio *.</span>
      </div>
      <div class="col-md-3">
        <label class="control-label" for="estado">Estado <span class="req">*</span>:</label>
        <input id="estado" class="form-control" formControlName="estado" placeholder="Ingresa estado"
               maxlength="35">
        <span class="campo-obligatorio"
              *ngIf="fe.estado?.errors?.required && (fe.estado?.dirty || fe.estado?.touched)">Este campo es obligatorio *.</span>
      </div>
      <div class="col-md-3">
        <label class="control-label" for="municipio">Municipio <span class="req">*</span>:</label>
        <input id="municipio" class="form-control" formControlName="municipio" placeholder="Ingresa municipio">
        <span class="campo-obligatorio"
              *ngIf="fe.municipio?.errors?.required && (fe.municipio?.dirty || fe.municipio?.touched)">Este campo es obligatorio *.</span>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md-3">
        <label class="control-label" for="colonia">Asentamiento / Colonia <span class="req">*</span>:</label>
        <input id="colonia" class="form-control" formControlName="colonia" placeholder="Ingresa colonia">
        <span class="campo-obligatorio"
              *ngIf="fe.colonia?.errors?.required && (fe.colonia?.dirty || fe.colonia?.touched)">Este campo es obligatorio *.</span>
      </div>
      <div class="col-md-6">
        <label class="control-label" for="calle">Calle <span class="req">*</span>:</label>
        <input id="calle" class="form-control" formControlName="calle" placeholder="Ingresa calle" maxlength="30">
        <span class="campo-obligatorio"
              *ngIf="fe.calle?.errors?.required && (fe.calle?.dirty || fe.calle?.touched)">Este campo es obligatorio *.</span>
      </div>
      <div class="col-md-3">
        <label class="control-label" for="numeroExterior">Número exterior <span class="req">*</span>:</label>
        <input id="numeroExterior" class="form-control" formControlName="numeroExterior" placeholder="Ingresa número exterior"
        maxlength="5">
        <span class="campo-obligatorio"
              *ngIf="fe.numeroExterior?.errors?.required && (fe.numeroExterior?.dirty || fe.numeroExterior?.touched)">Este campo es obligatorio *.</span>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md-3">
        <label class="control-label" for="numeroInterior">Número interior:</label>
        <input id="numeroInterior" class="form-control" formControlName="numeroInterior" placeholder="Ingresa número interior"
        maxlength="4">
        <span class="campo-obligatorio"
              *ngIf="fe.numeroInterior?.errors?.required && (fe.numeroInterior?.dirty || fe.numeroInterior?.touched)">Este campo es obligatorio *.</span>
      </div>
    </div>
    <h2 class="subtitulo">Contacto</h2>
    <div class="row mt-3 mb-3">
      <div class="col-md-6">
        <label class="control-label" for="correoElectronico">Correo electrónico <span class="req">*</span>:</label>
        <input id="correoElectronico" class="form-control" formControlName="correoElectronico" placeholder="Ingresa correo electrónico"
        maxlength="35" (blur)="validarCorreoElectornico()">
        <span class="campo-obligatorio"
              *ngIf="fe.correoElectronico?.errors?.required && (fe.correoElectronico?.dirty || fe.correoElectronico?.touched)">Este campo es obligatorio *.</span>
        <span class="campo-obligatorio"
              *ngIf="fe.correoElectronico?.errors?.pattern && (fe.correoElectronico?.dirty || fe.correoElectronico?.touched)">Este campo es obligatorio *.</span>
      </div>
      <div class="col-md-6">
        <label class="control-label" for="numeroInterior">Teléfono <span class="req">*</span>:</label>
        <input id="telefono" class="form-control" formControlName="telefono" placeholder="Ingresa teléfono"
        maxlength="10" numbersOnly>
        <span class="campo-obligatorio"
              *ngIf="fe.telefono?.errors?.required && (fe.telefono?.dirty || fe.telefono?.touched)">Este campo es obligatorio *.</span>
      </div>
    </div>
    <section class="mt-6">
      <div class="flex justify-content-between align-items-center">
        <h2 class="subtitulo">Persona de esta empresa</h2>
        <button class="ml-4 btn btn-primary btn-lg" (click)="agregarPersonaSolicitante()" routerLink="agregar-persona" >
          Agregar persona
        </button>
      </div>
      <ng-container *ngIf="personasConvenio.length < 1">
        <div class="px-4">
          <div class="px-4 py-6 mt-5 border-panel flex justify-content-center">
            <span class="mensaje-agregar-funcionalidad">Agrega personas a esta empresa</span>
          </div>
        </div>
      </ng-container>
      <ng-container class="my-4" *ngIf="personasConvenio.length > 0">
        <app-table-panel>
          <ng-template appCustomTemplate="left-header">
            <div class="table-panel-header-column">
              <span class="font-bold">Nombre</span>
            </div>
          </ng-template>
          <div *ngFor="let personaElement of personasConvenio"  class="row py-2 px-4 table-panel-row">
            <div class="col-md-10">
              <span> {{personaElement.nombre}} {{personaElement.primerApellido}} {{personaElement.segundoApellido}} </span>
            </div>
            <div class="col-md-2">
              <div class="flex justify-content-end contenedor-celda-iconos">
                <a (click)="abrirModalDetallePersona(personaElement)">
                  <img src="assets/images/imagen-icono-ver.svg" alt="icono ver">
                </a>
              </div>
            </div>
          </div>
        </app-table-panel>
      </ng-container>
    </section>
  </form>
</ng-container>


<!--<ng-container *ngIf="agregarPersona">-->
<!--  <app-agregar-persona-convenios-prevision-funeraria (personaConvenio) = "mostrarPersonas($event) ">-->

<!--  </app-agregar-persona-convenios-prevision-funeraria>-->
<!--</ng-container>-->

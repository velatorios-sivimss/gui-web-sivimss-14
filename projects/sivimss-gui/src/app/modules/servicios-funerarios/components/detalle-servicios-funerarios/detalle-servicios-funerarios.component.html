<app-titulo-principal titulo="detalle de pago"></app-titulo-principal>
<section class="mb-3">
  <app-table-panel>
    <ng-template appCustomTemplate="left-header">
      <div class="table-panel-header-column">
        <span class="font-bold">Folio plan SFPA</span>
      </div>
    </ng-template>
    <ng-template appCustomTemplate="right-header">
      <div class="table-panel-header-column">
        <div class="flex flex-column">
          <span>Estatus pago</span>
          <div class="contenedor-inputswitch">
            <span class="font-bold">Pendiente</span>
          </div>
        </div>
        <a class="ml-5 cursor-pointer" (click)="overlayPanelHeader.toggle($event)">
          <!--        <a class="ml-5 cursor-pointer" (click)="abrirPanelHeader($event)">-->
          <img
            src="assets/images/imagen-icono-barras-horizontales.svg"
            alt="icono barras horizontales">
        </a>
      </div>
    </ng-template>
  </app-table-panel>
  <app-table-panel>
    <ng-template appCustomTemplate="header">
      <div class="table-panel-header-column w-full">
        <div class="col-md-3">
          <div class="flex flex-column">
            <div class="col-md">
              <span>Nombre(s) del contratante</span>
            </div>
            <div class="col-md">
              <span class="font-bold"> {{detalleServicio.contratanteSubstituto}} </span>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="flex flex-column">
            <div class="col-md">
              <span>Estado</span>
            </div>
            <div class="col-md">
              <span class="font-bold">{{detalleServicio.estado}}</span>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="flex flex-column">
            <div class="col-md">
              <span>Correo electrónico</span>
            </div>
            <div class="col-md">
              <span class="font-bold">{{detalleServicio.correo}}</span>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="flex flex-column">
            <div class="col-md">
              <span>Paquete</span>
            </div>
            <div class="col-md">
              <span class="font-bold">{{detalleServicio.nombrePaquete}}</span>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
    <div class="row table-panel-row mb-2">
      <h2 class="subtitulo pl-1 mx-6 my-4">Detalle pagos</h2>
      <p-table styleClass="mt-5 mb-8 mx-6" [value]="pagosRealizados"
               [rows]="cantElementosPorPagina"
               [lazy]="true" [totalRecords]="totalElementos" [pageLinks]="3" [(first)]="numPaginaActual">
        <ng-template pTemplate="header">
          <tr>
            <th scope="col">Velatorio</th>
            <th scope="col">Pagos</th>
            <th scope="col">Fecha de pago</th>
            <th scope="col">Monto</th>
            <th scope="col">Método de pago</th>
            <th scope="col">No. de Recibo de pago</th>
            <th scope="col">Estatus</th>
            <th scope="col"></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-pagosRealizados>
          <tr>
            <td>{{pagosRealizados.velatorio}}</td>
            <td>{{pagosRealizados.pagos}}</td>
            <td>{{pagosRealizados.fechaPago}}</td>
            <td>{{pagosRealizados.monto}}</td>
            <td>{{pagosRealizados.metodoPago}}</td>
            <td>{{pagosRealizados.noReciboPago}}</td>
            <td>{{pagosRealizados.estatusPago}}</td>
            <td>
              <div class="contenedor-celda-iconos">
                <a class="ml-5 cursor-pointer" (click)="overlayPanelBody.toggle($event)">
                  <!--                <a (click)="abrirPanelBody($event,detallePago)">-->
                  <img
                    src="assets/images/imagen-icono-barras-horizontales.svg"
                    alt="icono barras horizontales">
                </a>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
      <div class="row ml-5">
        <div class="col-md-7 mt-6">
          <span>Aún debes pagar esta cantidad para cubrir el total del plan SPFA <span
            class="font-bold">$ 22,000.00</span></span>
        </div>
        <div class="col-md-5">
          <div class="flex justify-content-end">
            <div class="col-md-4">
              <label>Total pagado</label><br/>
              <span>$ 11,000.00</span>
            </div>
            <div class="col-md-4">
              <label>Total a pagar</label><br/>
              <span>$ 33,000.00</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </app-table-panel>
</section>

<section>
  <div class="paginator-template flex justify-content-end">
    <div class="export-table">
      <span class="export-table-text">Exportar tabla</span><br/>
      <div class="export-table-icons flex justify-content-between px-4">
        <img class="icon-export-table" src="assets/images/imagen-icono-pdf.svg" alt="exportar pdf">
        <img class="icon-export-table" src="assets/images/imagen-icono-excel.svg" alt="exportar excel">
      </div>
    </div>
  </div>
  <div class="row mb-6">
    <div class="flex mt-4 justify-content-end">
      <button class="ml-6 mt-3 btn btn-primary btn-md" routerLink="../">Regresar</button>
    </div>
  </div>
</section>

<p-overlayPanel #overlayPanelHeader>
  <ng-template pTemplate="content">
    <app-overlay-panel-opciones>
      <app-overlay-panel-opcion titulo="Realizar pago" (click)="abrirModalRealizarPago()"></app-overlay-panel-opcion>
<!--      <app-overlay-panel-opcion titulo="Ver contrato"></app-overlay-panel-opcion>-->
<!--      <app-overlay-panel-opcion titulo="Detalles"></app-overlay-panel-opcion>-->
    </app-overlay-panel-opciones>
  </ng-template>
</p-overlayPanel>
<p-overlayPanel #overlayPanelBody>
  <ng-template pTemplate="content">
    <app-overlay-panel-opciones>
      <app-overlay-panel-opcion titulo="Modificar método" ></app-overlay-panel-opcion>
      <app-overlay-panel-opcion titulo="Eliminar método" (click)="abrirModalEliminarPago()"></app-overlay-panel-opcion>
    </app-overlay-panel-opciones>
  </ng-template>
</p-overlayPanel>

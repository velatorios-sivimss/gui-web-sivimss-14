<div class="row mb-4">
  <div class="col-md-4">
    <label class="control-label" for="paquete">Paquete<span class="req">*</span>:</label>
    <p-dropdown id="paquete" class="form-control" [(ngModel)]="paqueteSeleccionado" placeholder="Selecciona el paquete"
                [options]="[{label:'Opción 1', value:0},{label:'Opción 2', value:1}]"></p-dropdown>
  </div>
</div>

<p-accordion styleClass="sivimss-accordion">
  <p-accordionTab>
    <ng-template pTemplate="header">
      <div class="flex justify-content-between align-items-center w-full">
        <span>Paquete</span>
        <button class="btn btn-primary btn-lg" (click)="abrirModalAgregarAlPaquete($event)" >Agregar artículos y
          servicios
        </button>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <p-table styleClass="mt-5 mb-8 " [value]="paquetes">
        <ng-template pTemplate="header">
          <tr>
            <th>No. consecutivo</th>
            <th>Grupo</th>
            <th>Concepto</th>
            <th>Cantidad</th>
            <th>Importe/Monto</th>
            <th>Proveedor</th>
            <th>Total del paquete</th>
            <th>¿Deseas utilizar este artículo/servicio?</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-paquete>
          <tr>
            <td>{{paquete.noConsecutivo}}</td>
            <td>{{paquete.grupo}}</td>
            <td>{{paquete.concepto}}</td>
            <td>{{paquete.cantidad}}</td>
            <td>{{paquete.importe}}</td>
            <td>{{paquete.proveedor}}</td>
            <td>{{paquete.totalPaquete}}</td>
            <td style="width:200px">
              <div class="flex ">
                <p-checkbox styleClass="mr-3" [(ngModel)]="paquete.deseaUtilizarArtServ"
                            [binary]="true"></p-checkbox>
                <a class="barras" (click)="abrirPanel($event,paquete)">
                  <i class="fs fs-barras-horizontales"></i>
                </a>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </ng-template>
  </p-accordionTab>
  <p-accordionTab>
    <ng-template pTemplate="header">
      <div class="flex justify-content-between align-items-center w-full">
        <span>Presupuesto</span>
        <button class="btn btn-primary btn-lg" (click)="abrirModalAgregarAlPrespuesto($event)">Agregar artículos y
          servicios
        </button>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <p-table styleClass="mt-5 mb-8 " [value]="paquetes">
        <ng-template pTemplate="header">
          <tr>
            <th>No. consecutivo</th>
            <th>Grupo</th>
            <th>Concepto</th>
            <th>Cantidad</th>
            <th>Importe/Monto</th>
            <th>Proveedor</th>
            <th>Total del paquete</th>
            <th></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-paquete>
          <tr>
            <td>{{paquete.noConsecutivo}}</td>
            <td>{{paquete.grupo}}</td>
            <td>{{paquete.concepto}}</td>
            <td>{{paquete.cantidad}}</td>
            <td>{{paquete.importe}}</td>
            <td>{{paquete.proveedor}}</td>
            <td>{{paquete.totalPaquete}}</td>
            <td style="width:200px">
              <div class="flex ">
                <a class="barras" (click)="abrirPanel($event,paquete)">
                  <i class="fs fs-barras-horizontales"></i>
                </a>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </ng-template>
  </p-accordionTab>
</p-accordion>

<p-overlayPanel>
  <ng-template pTemplate="content">
    <app-overlay-panel-opciones>
      <app-overlay-panel-opcion titulo="Ver kilometraje" (click)="abrirModalVerKm()"></app-overlay-panel-opcion>
    </app-overlay-panel-opciones>
  </ng-template>
</p-overlayPanel>

<div class="row">
  <div class="col-md-12 flex justify-content-end">
    <div class="flex flex-column align-items-end">
      <span class="texto-orden-servicio">Total órden de servicio</span>
      <span class="cantidad-orden-servicio">$0.00</span>
    </div>
  </div>
</div>

<hr class="hr-separador">

<form [formGroup]="form">
  <div class="row mb-2">
    <div class="col-md-6">
      <label class="control-label" for="observaciones">Observaciones<span class="req">*</span>:</label>
      <input id="observaciones" type="text" class="form-control" formControlName="observaciones"
             placeholder="Ingresa observaciones">
      <span class="campo-obligatorio"
            *ngIf="f.observaciones?.errors?.required && (f.observaciones?.dirty || f.observaciones?.touched)">Campo obligatorio</span>
    </div>
    <div class="col-md-6">
      <label class="control-label" for="notasServicio">Notas del servicio<span class="req">*</span>:</label>
      <input id="notasServicio" type="text" class="form-control" formControlName="notasServicio"
             placeholder="Ingresa notas de servicio">
      <span class="campo-obligatorio"
            *ngIf="f.notasServicio?.errors?.required && (f.notasServicio?.dirty || f.notasServicio?.touched)">Campo obligatorio</span>
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-md-12">
      <span class="mensaje-inferior-campo-obligatorio">
        *Campos obligatorios
      </span>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 flex justify-content-end align-items-center">
      <button class="btn btn-md btn-default">Regresar</button>
      <button class="btn btn-md btn-gold ml-5" routerLink="../">Cancelar</button>
      <button type="button" class="btn btn-md btn-primary ml-5">Aceptar</button>
    </div>
  </div>
</form>

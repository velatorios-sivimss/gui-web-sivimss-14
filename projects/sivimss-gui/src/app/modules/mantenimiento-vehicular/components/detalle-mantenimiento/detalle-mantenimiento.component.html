<app-titulo-principal titulo="VER DETALLE"></app-titulo-principal>
<p-accordion styleClass="sivimss-accordion sivimss-accordionColor" [activeIndex]="0">
  <p-accordionTab>
    <ng-template pTemplate="header">
      <div class="sivimss-acoordion-header">
        <div class="accordion-header-left">
          <span>ID </span>
          <b>{{ vehiculo.ID_VEHICULO }}</b>
        </div>
        <div class="accordion-header-right">
          <div class="estatus">
            <span>Estado de mantenimiento</span>
            <b [appTextColor]="vehiculo.DES_MTTOESTADO">{{vehiculo.DES_MTTOESTADO}}</b>
          </div>
          <a (click)="abrirPanel($event)">
            <i class="fs fs-barras-horizontales"></i>
          </a>
        </div>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <div class="row grid">
        <div class="col">
          <span class="flex flex-column etiqueta-base">Delegación</span>
          <span class="texto-base">{{vehiculo.DES_DELEGACION}}</span>
        </div>
        <div class="col">
          <span class="flex flex-column etiqueta-base">Velatorio</span>
          <span class="texto-base">{{vehiculo.NOM_VELATORIO}}</span>
        </div>
        <div class="col">
          <span class="flex flex-column etiqueta-base">Fecha</span>
          <span class="texto-base"></span>
        </div>
        <div class="col">
          <span class="flex flex-column etiqueta-base">Vehiculo</span>
          <span
            class="texto-base">{{vehiculo.DES_MARCA}} {{vehiculo.DES_SUBMARCA}} {{vehiculo.DES_MODELO}}</span>
        </div>
        <div class="col">
          <span class="flex flex-column etiqueta-base">Placas</span>
          <span class="texto-base">{{vehiculo.DES_PLACAS}}</span>
        </div>
        <div class="col">
          <span class="flex flex-column etiqueta-base">Kilometraje</span>
          <span class="texto-base"></span>
        </div>
        <div class="col-2">
          <span class="flex flex-column etiqueta-base">Fecha de mantenimiento</span>
          <span class="texto-base"></span>
        </div>
      </div>
      <hr class="hr-accordion-content">
      <div class="row grid">
        <div class="col"></div>
        <div class="col"></div>
        <div class="col"></div>
        <div class="col"></div>
        <div class="col"></div>
        <div class="col"></div>
        <div class="col-2">
          <span class="flex flex-column etiqueta-base">Costo de mantenimiento</span>
          <span class="texto-base"></span>
        </div>
      </div>
      <ng-container>
        <p-tabView>
          <p-tabPanel header="Verificación diaria" *ngIf="verificacion">
            <app-table-panel>
              <div class="row table-panel-row">
                <div class="table-panel-column ml-4">
                  <label>Fecha</label>
                  <span>{{verificacion.FEC_ALTA | date: 'dd/MM/YYYY'}}</span>
                </div>
              </div>
              <div class="row table-panel-row">
                <div class="col-md-4">
                  <div class="row">
                    <div class="table-panel-column col-md-8">
                      <label class="ml-4">Nivel de aceite</label>
                      <span class="ml-4">{{verificacion.DES_NIVEL_ACEITE | uppercase}}</span>
                    </div>
                    <div class="table-panel-column col-md-4">
                      <img class="icono" src="../../../../../../assets/images/nivelCombus.svg">
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="table-panel-column col-md-8">
                    <label>Nivel de agua</label>
                    <span>{{verificacion.DES_NIVEL_AGUA | uppercase}}</span>
                  </div>
                  <div class="table-panel-column col-md-4">
                    <img class="icono" src="../../../../../../assets/images/nivelAgua.svg">
                  </div>
                </div>
                <div class="col-md-4"></div>
              </div>
              <div class="row table-panel-row">
                <div class="col-md-4">
                  <div class="grid">
                    <div class="col-12 mt-3">
                      <div class="table-panel-column col-md-8">
                        <label>Calibración de neumáticos traseros</label>
                        <span>{{verificacion.DES_NIVEL_NEUMATRASE | uppercase}}</span>
                      </div>
                      <div class="table-panel-column col-md-4">
                        <img class="icono" src="../../../../../../assets/images/velocimetroBajo.svg">
                      </div>
                    </div>
                    <div class="col-12 mt-3">
                      <div class="table-panel-column col-md-8">
                        <label>Calibración de numáticos delanteros</label>
                        <span>{{verificacion.DES_NIVEL_NEUMADELA | uppercase}}</span>
                      </div>
                      <div class="table-panel-column col-md-4">
                        <img class="icono" src="../../../../../../assets/images/belocimetroAlto.svg">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 border-left-1 border-gray">
                  <div class="row">
                    <div class="col-md-8 m-4">
                      <label>Presion recomendada</label>
                      <p-table [value]="data" [styleClass]="'p-datatable-sm'">
                        <ng-template pTemplate="header">
                          <tr>
                            <th>Rin</th>
                            <th>Precisión</th>
                          </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-item>
                          <tr>
                            <td>{{ item.rin }}</td>
                            <td>{{ item.precision }}</td>
                          </tr>
                        </ng-template>
                      </p-table>
                    </div>
                    <div class="col-md-4">
                    </div>
                  </div>
                </div>
              </div>

              <div class="row table-panel-row ">
                <div class="col-md-4">
                  <div class="row">
                    <div class="table-panel-column col-md-8">
                      <label class="ml-4">Nivel de Combustible</label>
                      <span class="ml-4">{{verificacion.DES_NIVEL_COMBUSTIBLE | uppercase}}</span>
                    </div>
                    <div class="table-panel-column col-md-4">
                      <img class="icono" src="../../../../../../assets/images/nivelCombus.svg">
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="row">
                    <div class="table-panel-column col-md-8">
                      <label class="ml-4">Nivel de Bateria </label>
                      <span class="ml-4">{{verificacion.DES_NIVEL_BATERIA | uppercase}}</span>
                    </div>
                    <div class="table-panel-column col-md-4">
                      <img class="icono-bateria" src="../../../../../../assets/images/loading.svg">
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="row">
                    <div class="table-panel-column col-md-6">
                      <label>Código de falla</label>
                      <span>{{verificacion.DES_NIVEL_CODIGOFALLO | uppercase}}</span>
                    </div>
                    <div class="col-md-6"></div>
                  </div>
                </div>
              </div>
            </app-table-panel>
          </p-tabPanel>
          <p-tabPanel header="Solicitud de mantenimiento" *ngIf="solicitudRegistro">
            <app-table-panel>
              <div class="row table-panel-row">
                <div class="col-md-7">
                  <div class="row grid">
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base ml-4">Placas</label>
                      <span class="ml-4">{{vehiculo.DES_PLACAS}}</span>
                    </div>
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base">Marca</label>
                      <span>{{vehiculo.DES_MARCA}}</span>
                    </div>
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base">Año</label>
                      <span>{{vehiculo.DES_MODELO}}</span>
                    </div>
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base">Kilometraje</label>
                      <span>{{solicitudRegistro.KILOMETRAJE}}</span>
                    </div>
                    <div class="col-3 table-panel-column">
                      <label class="flex flex-column etiqueta-base">Fecha registro</label>
                      <span></span>
                    </div>
                  </div>
                </div>
                <div class="col-md-5"></div>
              </div>
              <div class="row table-panel-row">
                <div class="col-md-7">
                  <div class="grid">
                    <div class="col-4">
                      <div class="table-panel-column ">
                        <label class="ml-4">Tipo de mantenimiento</label>
                        <span class="ml-4">{{solicitudRegistro.DES_MTTO_TIPO}}</span>
                      </div>
                    </div>
                    <div class="col-3">
                      <div class="table-panel-column ">
                        <label>Modalidad </label>
                        <span>{{solicitudRegistro.DES_MODALIDAD}}</span>
                      </div>
                    </div>
                    <div class="col-5">
                      <div class="table-panel-column ">
                        <label>Mantenimiento preventivo</label>
                        <span>{{solicitudRegistro.DES_MTTO_CORRECTIVO}}</span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-5">
                  <div class="table-panel-column ">
                    <label class="flex flex-column etiqueta-base">Notas</label>
                    <span>{{solicitudRegistro.DES_NOTAS}}</span>
                  </div>
                </div>
              </div>
            </app-table-panel>
          </p-tabPanel>
          <p-tabPanel header="Registro de seguimiento" *ngIf="registro">
            <app-table-panel>
              <div class="row table-panel-row">
                <div class="col-md-6">
                  <div class="row grid">
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base ml-4">Placas</label>
                      <span class="ml-4">{{vehiculo.DES_PLACAS}}</span>
                    </div>
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base">Marca</label>
                      <span>{{vehiculo.DES_MARCA}}</span>
                    </div>
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base">Año</label>
                      <span>{{vehiculo.DES_MODELO}}</span>
                    </div>
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base">Kilometraje</label>
                      <span>{{registro.KILOMETRAJE}}</span>
                    </div>
                  </div>
                </div>
                <div class="col-md-6"></div>
              </div>
              <div class="row table-panel-row">
                <div class="col-md-12">
                  <div class="row grid">
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base ml-4">Tipo de mantenimiento</label>
                      <span class="ml-4"></span>
                    </div>
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base">Modalidad</label>
                      <span>{{registro.DES_MODALIDAD}}</span>
                    </div>
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base">Número de contrato</label>
                      <span>{{registro.DES_NUMCONTRATO}}</span>
                    </div>
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base">Nombre de proveedor</label>
                      <span>{{registro.NOM_PROVEEDOR}}</span>
                    </div>
                    <div class="col table-panel-column">
                      <label class="flex flex-column etiqueta-base">Taller</label>
                      <span>{{registro.DES_NOMBRE_TALLER}}</span>
                    </div>
                  </div>
                </div>
              </div>
            </app-table-panel>
          </p-tabPanel>
        </p-tabView>
      </ng-container>
    </ng-template>
  </p-accordionTab>
</p-accordion>

<p-overlayPanel #overlayPanel>
  <ng-template pTemplate="content">
    <app-overlay-panel-opciones>
      <app-overlay-panel-opcion titulo="Modificar"></app-overlay-panel-opcion>
      <app-overlay-panel-opcion titulo="Exportar PDF"></app-overlay-panel-opcion>
      <app-overlay-panel-opcion titulo="Exportar Excel"></app-overlay-panel-opcion>
    </app-overlay-panel-opciones>
  </ng-template>
</p-overlayPanel>

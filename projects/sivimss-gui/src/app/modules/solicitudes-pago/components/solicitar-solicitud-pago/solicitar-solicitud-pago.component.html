<form [formGroup]="solicitudPagoForm">
  <div class="row mb-3">
    <div class="col-md-12">
      <label class="control-label" for="tipoSolicitud">Tipo de solicitud de pago<span
        class="req">*</span>:</label>
      <p-dropdown id="tipoSolicitud" class="form-control" formControlName="tipoSolicitud"
                  [options]="catatalogoTipoSolicitud" placeholder="Seleccionar el tipo de solicitud" [filter]="true"
                  filterBy="label" appendTo="body">
      </p-dropdown>
    </div>
  </div>
  <ng-container *ngIf="tipoSolicitud">
    <div class="row mb-3">
      <div class="col-md-6" *ngIf="[2,3,4,6].includes(tipoSolicitud)">
        <label class="control-label" for="folioFiscal">Folio fiscal de la factura de gastos<span
          class="req">*</span>:</label>
        <input id="folioFiscal" class="form-control" formControlName="folioFiscal"
               placeholder="Ingresar folio" [maxlength]="36" oninput="this.value = this.value.toUpperCase().trim()"
               appRegexFolioFiscal>
      </div>
      <div class="col-md-6" *ngIf="[5].includes(tipoSolicitud)">
        <label class="control-label" for="folioFiscalBtn">Folio fiscal de la factura de gastos<span
          class="req">*</span>:</label>
        <div class="formgroup-inline">
          <div class="field">
            <input id="folioFiscalBtn" class="form-control" formControlName="folioFiscal"
                   placeholder="Ingresar folio" [maxlength]="36" oninput="this.value = this.value.toUpperCase().trim()"
                   appRegexFolioFiscal>
          </div>
          <button class="btn btn-md btn-primary" type="button">Agregar</button>
        </div>
      </div>
      <div class="col-md-6" *ngIf="[2,3,4].includes(tipoSolicitud)">
        <label class="control-label" for="fechaElaboracion">Fecha de elaboración<span class="req">*</span>:</label>
        <p-calendar id="fechaElaboracion" formControlName="fechaElaboracion" styleClass="form-control"
                    [showIcon]="true" placeholder="Seleccionar fecha de elaboración" dateFormat="dd-mm-yy"
                    appendTo="body"
                    [maxDate]="fechaActual">
        </p-calendar>
      </div>
      <div class="col-md-6" *ngIf="[5,6].includes(tipoSolicitud)">
        <label class="control-label" for="importe">Importe Total<span class="req">*</span>:</label>
        <input id="importe" class="form-control" formControlName="importe" placeholder="Importe Total">
      </div>
    </div>
    <div class="row mx-1 mb-3" *ngIf="[2,4].includes(tipoSolicitud)">
      <p-table [value]="partidaPresupuestal" [pageLinks]="3">
        <ng-template pTemplate="header">
          <tr>
            <th scope="col" class="font-bold">Partida presupuestal</th>
            <th scope="col" class="font-bold">Cuentas contables</th>
            <th scope="col" class="font-bold">Importe Total</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-partida>
          <tr>
            <td> {{partida.partidaPresupuestal}} </td>
            <td> {{partida.cuentasContables}} </td>
            <td> {{partida.importeTotal}} </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
    <div class="row mx-1 mb-3" *ngIf="[3,6].includes(tipoSolicitud)">
      <p-table [value]="partidaPresupuestal" [pageLinks]="3">
        <ng-template pTemplate="header">
          <tr>
            <th scope="col" class="font-bold">Partida presupuestal</th>
            <th scope="col" class="font-bold">Cuentas contables</th>
            <th scope="col" class="font-bold"></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-partida>
          <tr>
            <td> {{partida.partidaPresupuestal}} </td>
            <td> {{partida.cuentasContables}} </td>
            <td>
              <button class="btn btn-md btn-primary" type="button">Agregar</button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
    <div class="row mb-3" *ngIf="[3].includes(tipoSolicitud)">
      <div class="col-md-12">
        <label class="control-label" for="importeCol12">Importe Total<span class="req">*</span>:</label>
        <input id="importeCol12" class="form-control" formControlName="importe" placeholder="Importe Total"
               (change)="convertirImporte()" [maxlength]="7" numbersOnly>
      </div>
    </div>
    <div class="row mx-1 mb-3">
      <p-panel>
        <ng-template pTemplate="header">
          <div class="row">
            <div class="col-md-12">
              <div class="flex flex-wrap gap-3">
                <div class="flex align-items-center">
                  <p-radioButton value="1" id="unidadOperativa" formControlName="unidadSeleccionada"
                                 inputId="unidadOperativa"></p-radioButton>
                  <label for="unidadOperativa" class="ml-2">Unidad operativa</label>
                </div>
                <div class="flex align-items-center">
                  <p-radioButton value="2" id="unidadAdmon" formControlName="unidadSeleccionada"
                                 inputId="unidadAdmon"></p-radioButton>
                  <label for="unidadAdmon" class="ml-2">Unidad administrativa</label>
                </div>
              </div>
            </div>
          </div>
        </ng-template>
        <ng-template pTemplate="body">
          <div class="row">
            <div class="col-md-6">
              <label class="control-label" for="referenciaUnidad">Referencia unidad operativa/Administrativa<span
                class="req">*</span>:</label>
              <input id="referenciaUnidad" class="form-control" formControlName="referenciaUnidad"
                     placeholder="Unidad operativa/administrativa">
            </div>
            <div class="col-md-6">
              <label class="control-label" for="solicitadoPor">Solicitado por<span
                class="req">*</span>:</label>
              <input id="solicitadoPor" class="form-control" formControlName="solicitadoPor"
                     placeholder="Solicitado por">
            </div>
          </div>
        </ng-template>
      </p-panel>
    </div>
    <div class="row mb-3">
      <div class="col-md-6 mb-3" *ngIf="[1,5,6].includes(tipoSolicitud)">
        <label class="control-label" for="fechaElaboracionSec2">Fecha de elaboración<span class="req">*</span>:</label>
        <p-calendar id="fechaElaboracionSec2" formControlName="fechaElaboracion" styleClass="form-control"
                    [showIcon]="true" placeholder="Seleccionar fecha de elaboración" dateFormat="dd-mm-yy"
                    appendTo="body"
                    [maxDate]="fechaActual">
        </p-calendar>
      </div>
      <div class="col-md-6 mb-3">
        <label class="control-label" for="nombreDestinatario">Nombre del destinatario (Para)<span
          class="req">*</span>:</label>
        <input id="nombreDestinatario" class="form-control" formControlName="nombreDestinatario"
               placeholder="Ingresar nombre del destinatario" [maxlength]="50">
      </div>
      <div class="col-md-6 mb-3">
        <label class="control-label" for="nomRemitente">Nombre del remitente (De)<span class="req">*</span>:</label>
        <input id="nomRemitente" class="form-control" formControlName="nomRemitente"
               placeholder="Ingresar nombre del remitente" [maxlength]="50">
      </div>
      <div class="col-md-6 mb-3">
        <label class="control-label" for="referenciaTD">Referencia DT<span class="req">*</span>:</label>
        <input id="referenciaTD" class="form-control" formControlName="referenciaTD"
               placeholder="Referencia DT">
      </div>
      <div class="col-md-6 mb-3" *ngIf="[2,3,4,5,6].includes(tipoSolicitud)">
        <label class="control-label" for="beneficiario">Beneficiario<span class="req">*</span>:</label>
        <input id="beneficiario" class="form-control" formControlName="beneficiario"
               placeholder="Ingresar beneficiario" [maxlength]="80">
      </div>
      <div class="col-md-12 mb-3" *ngIf="[3].includes(tipoSolicitud)">
        <p-panel>
          <ng-template pTemplate="header">
            <label class="ml-2">Periodo:</label>
          </ng-template>
          <ng-template pTemplate="body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="control-label" for="fechaInicial">Fecha Inicial<span class="req">*</span>:</label>
                <p-calendar id="fechaInicial" formControlName="fechaInicial" styleClass="form-control"
                            [showIcon]="true" placeholder="Seleccionar fecha" dateFormat="dd-mm-yy"
                            appendTo="body"
                            [maxDate]="fechaActual">
                </p-calendar>
              </div>
              <div class="col-md-6 mb-3">
                <label class="control-label" for="fechaFinal">Fecha Final<span class="req">*</span>:</label>
                <p-calendar id="fechaFinal" formControlName="fechaFinal" styleClass="form-control"
                            [showIcon]="true" placeholder="Seleccionar fecha" dateFormat="dd-mm-yy"
                            appendTo="body"
                            [maxDate]="fechaActual">
                </p-calendar>
              </div>
            </div>
          </ng-template>
        </p-panel>
      </div>
      <div class="col-md-12 mb-3" *ngIf="[1].includes(tipoSolicitud)">
        <label class="control-label" for="beneficiarioCol12">Beneficiario<span class="req">*</span>:</label>
        <input id="beneficiarioCol12" class="form-control" formControlName="beneficiario"
               placeholder="Ingresar beneficiario" [maxlength]="80">
      </div>
      <div class="col-md-12 mb-3" *ngIf="[1,4].includes(tipoSolicitud)">
        <p-panel>
          <ng-template pTemplate="header">
            <label class="ml-2">Datos bancarios:</label>
          </ng-template>
          <ng-template pTemplate="body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="control-label" for="banco">Banco<span class="req">*</span>:</label>
                <input id="banco" class="form-control" formControlName="banco" placeholder="Banco">
              </div>
              <div class="col-md-6 mb-3">
                <label class="control-label" for="cuenta">Cuenta<span class="req">*</span>:</label>
                <input id="cuenta" class="form-control" formControlName="cuenta" placeholder="Cuenta">
              </div>
              <div class="col-md-12 mb-3">
                <label class="control-label" for="claveBancaria">Clave bancaria<span class="req">*</span>:</label>
                <input id="claveBancaria" class="form-control" formControlName="claveBancaria"
                       placeholder="Clave bancaria">
              </div>
            </div>
          </ng-template>
        </p-panel>
      </div>
      <div class="col-md-6 mb-3" *ngIf="[1,2,3,4].includes(tipoSolicitud)">
        <label class="control-label" for="concepto">Concepto<span class="req">*</span>:</label>
        <input id="concepto" class="form-control" formControlName="concepto"
               placeholder="Ingresar concepto" [maxlength]="60">
      </div>
      <div class="col-md-6 mb-3" *ngIf="[2,3,4].includes(tipoSolicitud)">
        <label class="control-label" for="cantidadLetra">Cantidad con letra<span class="req">*</span>:</label>
        <input id="cantidadLetra" class="form-control" formControlName="cantidadLetra"
               placeholder="Cantidad con letra">
      </div>
      <div class="col-md-6 mb-3" *ngIf="[5,6].includes(tipoSolicitud)">
        <label class="control-label" for="numeroContrato">Número de contrato<span class="req">*</span>:</label>
        <input id="numeroContrato" class="form-control" formControlName="numeroContrato"
               placeholder="Número de contrato">
      </div>
      <div class="col-md-6 mb-3" *ngIf="[1].includes(tipoSolicitud)">
        <label class="control-label" for="importecol6">Importe Total<span class="req">*</span>:</label>
        <input id="importecol6" class="form-control" formControlName="importe" (change)="convertirImporte()"
               placeholder="Importe Total" [maxlength]="7" numbersOnly>
      </div>
      <div class="col-md-12 mb-3" *ngIf="[1].includes(tipoSolicitud)">
        <label class="control-label" for="cantidadLetraCol12">Cantidad con letra<span class="req">*</span>:</label>
        <input id="cantidadLetraCol12" class="form-control" formControlName="importeLetra"
               placeholder="Cantidad con letra">
      </div>
      <div class="col-md-12 mb-3" *ngIf="[5,6].includes(tipoSolicitud)">
        <p-panel>
          <ng-template pTemplate="header">
            <label class="ml-2">Datos bancarios:</label>
          </ng-template>
          <ng-template pTemplate="body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="control-label" for="bancoTabla2">Banco<span class="req">*</span>:</label>
                <input id="bancoTabla2" class="form-control" formControlName="banco" placeholder="Banco">
              </div>
              <div class="col-md-6 mb-3">
                <label class="control-label" for="cuentaTabla2">Cuenta<span class="req">*</span>:</label>
                <input id="cuentaTabla2" class="form-control" formControlName="cuenta" placeholder="Cuenta">
              </div>
              <div class="col-md-12 mb-3">
                <label class="control-label" for="claveBancariaTabla2">Clave bancaria<span class="req">*</span>:</label>
                <input id="claveBancariaTabla2" class="form-control" formControlName="claveBancaria"
                       placeholder="Clave bancaria">
              </div>
            </div>
          </ng-template>
        </p-panel>
      </div>
      <div class="col-md-6 mb-3" *ngIf="[5,6].includes(tipoSolicitud)">
        <label class="control-label" for="concepto2">Concepto<span class="req">*</span>:</label>
        <input id="concepto2" class="form-control" formControlName="concepto"
               placeholder="Ingresar concepto" [maxlength]="60">
      </div>
      <div class="col-md-6 mb-3" *ngIf="[5,6].includes(tipoSolicitud)">
        <label class="control-label" for="cantidadLetra2">Cantidad con letra<span class="req">*</span>:</label>
        <input id="cantidadLetra2" class="form-control" formControlName="importeLetra"
               placeholder="Cantidad con letra">
      </div>
      <div class="col-md-12 mb-3" *ngIf="[5].includes(tipoSolicitud)">
        <p-panel>
          <ng-template pTemplate="header">
            <label class="ml-2">Periodo:</label>
          </ng-template>
          <ng-template pTemplate="body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="control-label" for="fechaInicialTabla2">Fecha Inicial<span class="req">*</span>:</label>
                <p-calendar id="fechaInicialTabla2" formControlName="fechaInicial" styleClass="form-control"
                            [showIcon]="true" placeholder="Seleccionar fecha" dateFormat="dd-mm-yy"
                            appendTo="body"
                            [maxDate]="fechaActual">
                </p-calendar>
              </div>
              <div class="col-md-6 mb-3">
                <label class="control-label" for="fechaFinalTabla2">Fecha Final<span class="req">*</span>:</label>
                <p-calendar id="fechaFinalTabla2" formControlName="fechaFinal" styleClass="form-control"
                            [showIcon]="true" placeholder="Seleccionar fecha" dateFormat="dd-mm-yy"
                            appendTo="body"
                            [maxDate]="fechaActual">
                </p-calendar>
              </div>
            </div>
          </ng-template>
        </p-panel>
      </div>
      <div class="col-md-12 mb-3">
        <label class="control-label" for="observaciones">Observaciones<span class="req">*</span>:</label>
        <input id="observaciones" class="form-control" formControlName="observaciones"
               placeholder="Ingresar observaciones" [maxlength]="100">
      </div>
    </div>
  </ng-container>
</form>
<div class="row mb-3">
  <div class="col-md-12">
    <span class="mensaje-inferior-campo-obligatorio">*Campos obligatorios</span>
  </div>
</div>
<section>
  <div class="row mb-3">
    <div class="col-md-12 flex justify-content-end align-items-center">
      <button class="ml-4 btn btn-danger btn-md" (click)="cancelar()">Cancelar</button>
      <button class="ml-6 btn btn-md btn-primary" (click)="crearSolicitudPago();">Aceptar</button>
    </div>
  </div>
</section>

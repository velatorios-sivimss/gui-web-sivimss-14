<app-titulo-principal titulo="Seleccionar Beneficiario"></app-titulo-principal>

<p-table styleClass="mt-5 mb-6" [value]="beneficiarios" [paginator]="beneficiarios.length > 0"
         [rows]="cantElementosPorPagina"
         [lazy]="true" [totalRecords]="totalElementos" [pageLinks]="3" [(first)]="numPaginaActual">
  <ng-template pTemplate="header">
    <tr>
      <th id="columna_beneficiarios_fecha_pago">Nombre</th>
      <th id="columna_beneficiarios_folio">CURP</th>
      <th id="columna_beneficiarios_botones"></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-beneficiario>
    <tr>
      <td class="font-bold">{{beneficiario.nombre}} {{beneficiario.aPaterno}} {{beneficiario.aMaterno}}</td>
      <td class="font-bold">{{beneficiario.curp }}</td>
      <td>
        <button type="submit" class="btn btn-primary btn-md ml-5"
                (click)="seleccionarBeneficiario(beneficiario.nombre  + ' ' + beneficiario.aPaterno + ' ' + beneficiario.aMaterno
                , beneficiario.curp)">
          Seleccionar
        </button>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <th colspan="3" class="p-2 text-center font-bold text-xl" id="beneficiarios_sin_resultados">
        No se encontro información relacionada a tu búsqueda
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="paginatorleft">
  </ng-template>
  <ng-template pTemplate="paginatorright">
  </ng-template>
</p-table>
<div class="flex mt-6 mb-4 justify-content-end">
  <button class="ml-6 btn btn-primary btn-md" [routerLink]="'../../../pago-orden-servicio'">
    Regresar
  </button>
</div>


<p-dialog [(visible)]="mostrarModalErrorAGF" [modal]="true"
          [style]="{maxWidth:'544px',width: '100%'}"
          [draggable]="false" [resizable]="false" header="Registro de Ayuda de Gastos Funerarios">
  <ng-template pTemplate="content">
    <div class="flex flex-column align-items-center justify-content-center">
      <span class="text-justify">Error al consultar la información.</span>
    </div>
  </ng-template>
  <ng-template pTemplate="footer">
    <div class="flex justify-content-center">
      <button class="btn btn-primary btn-md" (click)="finalizarAGF()">Aceptar</button>
    </div>
  </ng-template>
</p-dialog>

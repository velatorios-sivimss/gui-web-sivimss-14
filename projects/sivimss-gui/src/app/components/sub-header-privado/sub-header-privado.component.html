<div class="sub-header">
  <div class="btn-mostrar-menu">
    <app-boton-hamburguesa></app-boton-hamburguesa>
  </div>
  <span class="titulo-app">SIVIMSS</span>
  <div class="datos-usuario">
    <div class="contenedor-imagen-usuario" [ngClass]="{'notificacion': existeNotificacion }">
      <button class="button-user-img" appPopover (click)="notificacionesPopOver.toggle($event)">
        <img src="../../../assets/images/imagen-icono-usuario.svg" alt="imagen usuario" class="imagen-usuario">
      </button>
      <app-popover #notificacionesPopOver>
        <ng-container *ngTemplateOutlet="notificacionesTemplate"></ng-container>
      </app-popover>
    </div>
    <div class="contenedor-curp">
      <span>CURP {{usuarioEnSesion?.curp}}</span>
      <span>{{usuarioEnSesion?.desRol}}</span>
    </div>
  </div>
  <a class="btn-cerrar-sesion" (click)="cerrarSesion()"><img class="icon-cerrar-sesion"
                                                             src="../../../assets/images/imagen-icono-cerrar-sesion.svg"
                                                             alt="icono cerrar sesion">Cerrar sesión</a>
</div>

<ng-template #notificacionesTemplate>
  <ul>
    <li *ngFor="let notificacion of notificaciones">
      {{ notificacion.mensaje}}
      <div class="flex justify-content-end" *ngIf="notificacion.path=='reservar-salas'">
        <button class="ml-4 mt-3 btn btn-primary btn-md" (click)="registrarSalida(notificacion)">
          Registrar salida
        </button>
        <button class="ml-4 mt-3 btn btn-primary btn-md" (click)="registrarMasTarde(notificacion)">
          Registrar más tarde
        </button>
      </div>

    </li>

  </ul>
</ng-template>
